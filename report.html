<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>SmartReport_main_page</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/variable-pie.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquare@1.0/nanumsquare.css">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/report.css">
</head>

<body>
    <header>
        <nav>
            <div class="nav-header">
                <div class="nav-wrap">
                    <div class="top">
                        <h2>전체메뉴</h2>
                        <div class="util">
                            <a href="./notice.html">
                                <div class="notice"></div>
                            </a>
                            <div class="hamburger act">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                    <div class="search-box">
                        <input type="text" placeholder="검색">
                        <button><img src="./img/icon_search.svg" alt=""></button>
                    </div>
                </div>
            </div>
            <div class="nav-body">
                <h2>MY</h2>
                <div class="nav-line"></div>
                <ul>
                    <li>
                        <a href="javascript:void(0)">계좌</a>
                    </li>
                    <div class="li-line"></div>
                    <li>
                        <a href="javascript:void(0)">거래 내역</a>
                    </li>
                    <div class="li-line"></div>
                    <li>
                        <a href="./challenge.html">챌린지</a>
                    </li>
                    <div class="li-line"></div>
                    <li>
                        <a href="javascript:void(0)">고정 지출 내역</a>
                    </li>
                    <div class="li-line"></div>
                </ul>
                <h2>리포트</h2>
                <div class="nav-line"></div>
                <ul>
                    <li>
                        <a href="./report_result.html">카테고리별 소비 내역</a>
                    </li>
                    <div class="li-line"></div>
                    <li>
                        <a href="./card-pay-result.html">카드별 이용 실적</a>
                    </li>
                    <div class="li-line"></div>
                    <li>
                        <a href="./card-pay.html">월별 소비 내역</a>
                    </li>
                    <div class="li-line"></div>
                </ul>
            </div>
        </nav>
        <div class="black_bg"></div>
        <div class="inner-wrap">
            <div class="header-wrap">
                <ul class="menu">
                    <a href="./index.html">
                        <li>MY</li>
                    </a>
                    <a class="active" href="javascript:void(0)">
                        <li>리포트</li>
                    </a>
                </ul>
                <div class="util">
                    <div class="white-wrap">
                        <a href="./notice.html">
                            <div class="notice"></div>
                        </a>
                        <div class="hamburger">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </header>

    <article class="cont">
        <div class="inner-wrap">
            <div class="month-slide">
                <div class="inner-wrap">
                    <div class="flex-container">
                        <span class="prev"></span>
                        <p>2021년 12월</p>
                        <span class="next"></span>
                    </div>
                </div>
            </div>
            <div class="main-visual">
                <span>지난달 대비</span>
                <p>식비 지출<span>7%</span>상승!</p>
                <h3>대식가
                    <img src="./img/report/rice.png" alt="rice_icon">
                </h3>
            </div>
            <div class="box box_1">
                <div class="report-box">
                    <p>수입</p>
                    <span>1,058,200원</span>
                </div>
                <div class="vertical"></div>
                <div class="report-box">
                    <p>지출</p>
                    <span>1,280,320원</span>
                </div>
            </div>
            <div class="box box_2">
                <figure class="highcharts-figure1">
                    <div id="container1"></div>
                </figure>
                <div class="inner-wrap">
                    <div class="text-box">
                        <div class="left">
                            <div class="circle a"></div>
                            <p>여행</p>
                            <span>(47%)</span>
                        </div>
                        <span>612,100원</span>
                    </div>
                    <div class="text-box">
                        <div class="left">
                            <div class="circle b"></div>
                            <p>주거</p>
                            <span>(25%)</span>
                        </div>
                        <span>320,406원</span>
                    </div>
                    <div class="text-box">
                        <div class="left">
                            <div class="circle c"></div>
                            <p>식비</p>
                            <span>(16%)</span>
                        </div>
                        <span>204,850원</span>
                    </div>
                    <div class="text-box">
                        <div class="left">
                            <div class="circle d"></div>
                            <p>교통</p>
                            <span>(7%)</span>
                        </div>
                        <span>86,250원</span>
                    </div>
                    <div class="text-box">
                        <div class="left">
                            <div class="circle e"></div>
                            <p>외 6개</p>
                            <span>(4%)</span>
                        </div>
                        <span>56,714원</span>
                    </div>
                    <button type="button" onclick="location.href='./report_result.html'">카테고리별 소비 더보기</button>
                </div>
            </div>
            <div class="box box_3">
                <div class="inner-wrap">
                    <h3>성공한 챌린지</h3>
                    <div class="flex-container">
                        <div class="challenge">
                            <img src="./img/report/challenge1.png" alt="challenge">
                            <p>쇼핑</p>
                        </div>
                        <div class="challenge">
                            <img src="./img/report/challenge2.png" alt="challenge">
                            <p>교통</p>
                        </div>
                        <div class="challenge">
                            <img src="./img/report/challenge3.png" alt="challenge">
                            <p>카페</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box box_4">
                <div class="inner-wrap">
                    <h3>카드별 이용 실적</h3>
                    <a href="./card-pay-result.html">
                        <div class="card-box">
                            <div class="flex-container">
                                <div class="left">
                                    <img src="./img/report/cardImg1.png" alt="YaY">
                                    <span>신한 YaY 카드</span>
                                </div>
                                <div class="icon">
                                    <img src="./img/report/cardIcon.png" alt="present">
                                </div>
                            </div>

                            <div class="prog">
                                <div class="progs" id="progressing"></div>
                            </div>
                            <div class="prog-text">
                                <span>이용금액 250,250원</span>
                                <span>실적 300,000원</span>
                            </div>
                        </div>
                    </a>
                    <a href="./card-pay-result.html">
                        <div class="card-box">
                            <div class="flex-container">
                                <div class="left">
                                    <img src="./img/report/cardImg2.png" alt="The Easy">
                                    <span>KB국민카드 The Easy</span>
                                </div>
                                <div class="icon">
                                    <img src="./img/report/cardIcon.png" alt="present">
                                </div>
                            </div>

                            <div class="prog">
                                <div class="progs" id="progressing" style="width: 50%;"></div>
                            </div>
                            <div class="prog-text">
                                <span>이용금액 207,500원</span>
                                <span>실적 300,000원</span>
                            </div>
                        </div>
                    </a>
                    <div class="arrco-btn">
                        <span>더보기</span>
                    </div>
                </div>
            </div>
            <div class="card-banner">
                <div class="text-box">
                    <p>11번가 신한카드로 바꾸면</p>
                    <p><span class="">연<b>154,000</b>원</span> 아낄 수 있어요!</p>
                </div>
                <img src="./img/report/banner-card.png" alt="banner-card">
            </div>

            <div class="box box_5">
                <div class="inner-wrap">
                    <h3>월간 소비 내역</h3>
                    <div class="txt">
                        <div class="in">
                            <div class="circle"></div>
                            <span>수입</span>
                        </div>
                        <div class="out">
                            <div class="circle"></div>
                            <span>지출</span>
                        </div>

                    </div>
                    <figure class="highcharts-figure">
                        <div id="container"></div>
                    </figure>
                </div>
            </div>
            <div class="tip-banner">
                <div class="flex-container">
                    <div class="text-box">
                        <span>이번 달의 Tip</span>
                        <p>이번 달 아낀 돈이</p>
                        <p>미래에 더 크게 돌아올 거예요~!</p>
                    </div>
                    <img src="./img/report/banner-tip.png" alt="banner-tip">
                </div>
            </div>

        </div>
    </article>





    <script src="./js/jquery.min.js"></script>
    <script src="./js/script.js"></script>
    <script>
        $(document).ready(function () {
            var chart = new Highcharts.chart('container1', {

                chart: {
                    type: 'variablepie',
                    // width: 200,
                    height: 220,
                    marginTop: 20
                },
                title: {
                    text: ''
                },
                credits: {
                    enabled: false
                },
                plotOptions: {
                    series: {
                        enableMouseTracking: false,
                    }
                },

                series: [{
                    innerSize: '30%',
                    zMin: 0,
                    // shadow: {
                    //     color: 'blue'
                    // },
                    data: [{
                        className: 'ds',
                        name: 'hello',
                        dataLabels: {
                            enabled: false,
                            borderRadius: (5, 0, 2, 5),
                            backgroundColor: '#fff',
                            padding: 8,
                            x: -80,
                            y: 20
                        },
                        y: 30,
                        z: 20,
                        color: '#32C5FF',
                    }, {
                        name: '',
                        y: 22,
                        z: 10,
                        color: '#02C04F'
                    }, {
                        name: '',
                        y: 19,
                        z: 10,
                        color: '#FFBC47'
                    }, {
                        name: '',
                        y: 10,
                        z: 10,
                        color: '#FF7315'
                    }, {
                        name: '',
                        y: 7,
                        z: 10,
                        color: '#DDDDDD'
                    },]
                }],
            });
            var isVisible = false;

            $(window).on('scroll', function () {
                if (checkVisible($('.tip-banner')) && !isVisible) {
                    isVisible = true;
                    linecharts();
                }
            });

            function checkVisible(elm, eval) {
                eval = eval || "object visible";
                var viewportHeight = $(window).height(), // Viewport Height
                    scrolltop = $(window).scrollTop(), // Scroll Top
                    y = $(elm).offset().top,
                    elementHeight = $(elm).height();
                console.log(viewportHeight, scrolltop, y, elementHeight)
                if (eval == "object visible") return ((y < (viewportHeight + scrolltop)) && (y > (scrolltop - elementHeight)));
                if (eval == "above") return ((y < (viewportHeight + scrolltop)));
            }

            function linecharts() {
                Highcharts.chart('container', {
                    chart: {
                        type: 'line',
                        height: 220,

                    },
                    credits: {
                        enabled: false
                    },
                    title: {
                        text: ''
                    },

                    xAxis: {
                        categories: ['0' + 9 + '월', 10 + '월', 11 + '월', 12 + '월',
                        ],
                        labels: {
                            style: {
                                fontSize: 16,
                                color: '#262626',
                                fontFamily: 'NanumSquare, sans-serif'
                            }
                        },
                    },
                    yAxis: {
                        title: {
                            text: ''
                        },
                        gridLineColor: '#F5F5F5'
                    },
                    plotOptions: {
                        line: {
                            dataLabels: {
                                enabled: false,
                            },
                            enableMouseTracking: false,
                            lineWidth: 1,
                        }
                    },
                    series: [{
                        name: '',
                        data: [10, 14, 13, 23.5],
                        marker: {
                            symbol: 'circle',
                            radius: 5
                        },
                        color: '#FA6400'
                    }, {
                        name: '',
                        data: [20, 25, 18, 20],
                        marker: { symbol: 'circle', radius: 5 },
                        color: '#32C5FF'
                    }],
                    navigation: {
                        buttonOptions: {
                            enabled: false
                        }
                    }

                });


                $('.highcharts-yaxis-labels text').remove();
                $('.highcharts-legend').remove();
                $('.highcharts-xaxis').remove();
                $('.highcharts-yaxis-grid .highcharts-grid-line').eq(0).remove();
            }

        });
    </script>
</body>

</html>